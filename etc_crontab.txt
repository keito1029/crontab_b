# /etc/crontab: system-wide crontab
# Unlike any other crontab you don't have to run the `crontab'
# command to install the new version when you edit this file
# and files in /etc/cron.d. These files also have username fields,
# that none of the other crontabs do.

SHELL=/bin/sh
PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin

# m h dom mon dow user	command
17 *	* * *	root    cd / && run-parts --report /etc/cron.hourly
25 6	* * *	root	test -x /usr/sbin/anacron || ( cd / && run-parts --report /etc/cron.daily )
47 6	* * 7	root	test -x /usr/sbin/anacron || ( cd / && run-parts --report /etc/cron.weekly )
52 6	1 * *	root	test -x /usr/sbin/anacron || ( cd / && run-parts --report /etc/cron.monthly )
#


PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin
XDG_RUNTIME_DIR=/run/user/1000
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1000/bus
DISPLAY=:0



## /etc/hosts ##

## 通常規制
*/1 * * * 0-2,4-6	root	for i in `seq 0 1 59`;do (sleep ${i}; chattr -iu /etc/hosts;sed -i '3c 127.0.0.1 www.youtube.com' /etc/hosts;chattr +ui /etc/hosts;chattr -iu /etc/hostse;rm /etc/hostse;chattr -iu /etc/hosts;sed -i '3,19c 127.0.0.1 www.youtube.com\n127.0.0.1 y2mate.com\n127.0.0.1 yt1s.com\n127.0.0.1 yt1s.com\n127.0.0.1 www.y2mate.com\n#127.0.0.1 soundcloud.com\n127.0.0.1 www.bilibili.com\n127.0.0.1 www.nicozon.net\n127.0.0.1 9anime.to\n127.0.0.1 www9.gogoanimehub.tv\n127.0.0.1 9anime.ky\n127.0.0.1 9anime.ru\n127.0.0.1 9anime.cz\n127.0.0.1 9anime.ws\n127.0.0.1 www.nicovideo.jp\n127.0.0.1 animenew.be\n127.0.0.1 b9good.com' /etc/hosts;chattr +ui /etc/hosts;chattr -iu /etc/hostse;rm /etc/hostse) & done; 

## 隔週じゃない規制する
*/1 * * * 3	root	test $(expr $(date +\%W) \% 2) -ne 0 && for i in `seq 0 1 59`;do (sleep ${i}; chattr -iu /etc/hosts;sed -i '3c 127.0.0.1 www.youtube.com' /etc/hosts;chattr +ui /etc/hosts;chattr -iu /etc/hostse;rm /etc/hostse;chattr -iu /etc/hosts;sed -i '3,19c 127.0.0.1 www.youtube.com\n127.0.0.1 y2mate.com\n127.0.0.1 yt1s.com\n127.0.0.1 yt1s.com\n127.0.0.1 www.y2mate.com\n#127.0.0.1 soundcloud.com\n127.0.0.1 www.bilibili.com\n127.0.0.1 www.nicozon.net\n127.0.0.1 9anime.to\n127.0.0.1 www9.gogoanimehub.tv\n127.0.0.1 9anime.ky\n127.0.0.1 9anime.ru\n127.0.0.1 9anime.cz\n127.0.0.1 9anime.ws\n127.0.0.1 www.nicovideo.jp\n127.0.0.1 animenew.be\n127.0.0.1 b9good.com' /etc/hosts;chattr +ui /etc/hosts;chattr -iu /etc/hostse;rm /etc/hostse) & done; 

#test $(expr $(date +\%W) \% 2) -ne 0 && echo hello

## 隔週規制しない
*/1 17-20 * * 3	root	test $(expr $(date +\%W) \% 2) -eq 0 && chattr -iu /etc/hosts;sed -i '3,19c #127.0.0.1 www.youtube.com\n127.0.0.1 y2mate.com\n127.0.0.1 yt1s.com\n127.0.0.1 yt1s.com\n127.0.0.1 www.y2mate.com\n#127.0.0.1 soundcloud.com\n127.0.0.1 www.bilibili.com\n#127.0.0.1 www.nicozon.net\n#127.0.0.1 9anime.to\n#127.0.0.1 www9.gogoanimehub.tv\n#127.0.0.1 9anime.ky\n#127.0.0.1 9anime.ru\n127.0.0.1 9anime.cz\n#127.0.0.1 9anime.ws\n#127.0.0.1 www.nicovideo.jp\n127.0.0.1 animenew.be\n127.0.0.1 b9good.com' /etc/hosts;chattr +ui /etc/hosts;chattr -iu /etc/hostse;rm /etc/hostse

#test $(expr $(date +\%W) \% 2) -eq 0 && echo hello



###### dns cron ######
	#Mon~Fri#
*/1 * * * 0-2,4-6     root    for i in `seq 0 1 59`;do (sleep ${i}; chattr -iu /etc/NetworkManager/dnsmasq.d/local;rm /etc/NetworkManager/dnsmasq.d/locale;chattr -iu /etc/NetworkManager/dnsmasq.d/local;echo 'address=/youtube4kdownloader.com/.oceansaver.in/.xyz/127.0.0.1\nserver=/pic.weeabo0.xyz/okazu-sakutu.xyz/#' > /etc/NetworkManager/dnsmasq.d/local;chattr +ui /etc/NetworkManager/dnsmasq.d/local;chattr -iu /etc/NetworkManager/dnsmasq.d/locale;rm /etc/NetworkManager/dnsmasq.d/locale) & done;

	#lock Wed#
*/1 0-16,21-23 * * 3     root    test $(expr $(date +\%W) \% 2) -ne 0 && for i in `seq 0 1 59`;do (sleep ${i}; chattr -iu /etc/NetworkManager/dnsmasq.d/local;rm /etc/NetworkManager/dnsmasq.d/locale;chattr -iu /etc/NetworkManager/dnsmasq.d/local;echo 'address=/youtube4kdownloader.com/.oceansaver.in/.xyz/127.0.0.1\nserver=/pic.weeabo0.xyz/okazu-sakutu.xyz/#' > /etc/NetworkManager/dnsmasq.d/local;chattr +ui /etc/NetworkManager/dnsmasq.d/local;chattr -iu /etc/NetworkManager/dnsmasq.d/locale;rm /etc/NetworkManager/dnsmasq.d/locale) & done;

	#add restart network on Wed#
*/30 21-23 * * 3     root   service network-manager restart 

	#unlock on the Wed#
*/1 17-20 * * 3     root    test $(expr $(date +\%W) \% 2) -eq 0 && for i in `seq 0 1 59`;do (sleep ${i}; chattr -iu /etc/NetworkManager/dnsmasq.d/local;rm /etc/NetworkManager/dnsmasq.d/locale;chattr -iu /etc/NetworkManager/dnsmasq.d/local;echo '#address=/youtube4kdownloader.com/.oceansaver.in/.xyz/127.0.0.1\n#server=/pic.weeabo0.xyz/okazu-sakutu.xyz/#' > /etc/NetworkManager/dnsmasq.d/local;chattr +ui /etc/NetworkManager/dnsmasq.d/local;chattr -iu /etc/NetworkManager/dnsmasq.d/locale;rm /etc/NetworkManager/dnsmasq.d/locale) & done;

#時間変更による編集を防ぐため自動同期追加
*/1 * * * * service ntp restart


